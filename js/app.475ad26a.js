(function(){var t={8440:function(){},1742:function(t,e,s){"use strict";var o=s(144),i=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},a=[],n=s(8440),r=s.n(n),l=r(),c=s(1001),u=(0,c.Z)(l,i,a,!1,null,null,null),p=u.exports,d=function(){var t=this,e=t._self._c;return e("button",t._g({staticClass:"mt-1.5 bg-gray-200 border-r-2 border-amber-50 px-2 py-2"},t.$listeners),[t._t("default")],2)},h=[],f={name:"my-button"},m=f,v=(0,c.Z)(m,d,h,!1,null,"7665ab45",null),x=v.exports,g=function(){var t=this,e=t._self._c;return e("input",{staticClass:"input",attrs:{type:"text"},domProps:{value:t.modelValue},on:{input:t.updateInput}})},y=[],b={name:"my-input",props:{modelValue:[String,Number]},methods:{updateInput(t){this.$emit("update:modelValue",t.target.value)}}},_=b,w=(0,c.Z)(_,g,y,!1,null,"1969e2d3",null),k=w.exports,C=function(){var t=this,e=t._self._c;return t.show?e("div",{staticClass:"top-0 bottom-0 left-0 right-0 flex fixed x-bg",on:{click:t.hideDialog}},[e("div",{staticClass:"m-auto bg-white border rounded-br-2xl rounded-tl-2xl p-5",on:{click:function(t){t.stopPropagation()}}},[t._t("default")],2)]):t._e()},P=[],Z={name:"MyDialog",props:{show:{type:Boolean,required:!0}},methods:{hideDialog:function(){this.$emit("update:show",!1)}},updated(){this.show||this.$emit("update:show",!1)}},$=Z,S=(0,c.Z)($,C,P,!1,null,"31a74293",null),T=S.exports,D=function(){var t=this,e=t._self._c;return e("select",{staticClass:"x-select w-full",domProps:{value:t.value},on:{change:function(e){return t.$emit("input",e.target.value)}}},[e("option",{attrs:{disabled:"",value:""}},[t._v("Выберите из списка")]),t._l(t.options,(function(s){return e("option",{key:s.value,domProps:{value:s.value}},[t._v(" "+t._s(s.name)+" ")])}))],2)},L=[],O={name:"mySelect",props:{value:{type:String},options:{type:Array,default:()=>[]}}},R=O,j=(0,c.Z)(R,D,L,!1,null,"34d2da2b",null),A=j.exports,V=[x,k,T,A],E=s(8345),M=function(){var t=this,e=t._self._c;return e("div",{staticClass:"h-screen",attrs:{tabindex:"0"},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.moveLeft.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])||"button"in e&&2!==e.button?null:t.moveRight.apply(null,arguments)}]}},[e("transition",{attrs:{name:"slide-left"}},[e("div",{staticClass:"left-panel",class:{active:"left"===t.activePanel,"slide-left":t.slideLeft}},[t._v(" Левая часть ")])]),e("transition",{attrs:{name:"slide-right"}},[e("div",{staticClass:"right-panel",class:{active:"right"===t.activePanel,"slide-right":t.slideRight}},[t._v(" Правая часть ")])])],1)},N=[],W={data(){return{activePanel:"left",slideLeft:!1,slideRight:!1}},methods:{moveLeft(){console.log(1),this.slideLeft=!0,this.slideRight=!1,this.activePanel="left",setTimeout((()=>{this.slideLeft=!1}),1e3)},moveRight(){this.slideLeft=!1,this.slideRight=!0,this.activePanel="right",setTimeout((()=>{this.slideRight=!1}),1e3)}}},z=W,I=(0,c.Z)(z,M,N,!1,null,"0ce2670a",null),U=I.exports,B=s(1087),q=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"x-header w-2/6"},[e("Header",[e("button",{on:{click:t.showDialog}},[t._v(" Создать пост (только по тексту) ")])]),e("my-dialog",{attrs:{show:t.dialogVisible},on:{"update:show":function(e){t.dialogVisible=e}}},[e("post-form",{on:{create:t.createPost}})],1)],1),e("div",{staticClass:"x-app w-5/6"},[e("router-view"),e("div",{staticClass:"pl-2 mx-16 w-1/4"},[e("h1",{staticClass:"font-bold text-2xl mb-2"},[t._v("Сортировка по критерию")]),e("my-select",{staticStyle:{"margin-right":"10px"},attrs:{options:t.sortOptions},model:{value:t.selectedSort,callback:function(e){t.selectedSort=e},expression:"selectedSort"}}),e("div",{staticClass:"pt-10"},[e("h1",{staticClass:"font-bold text-2xl"},[t._v("Поиск")]),e(B.Z,{attrs:{placeholder:"Поиск по имени"},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}})],1)],1),e("post-list",{attrs:{posts:t.sortedAndSearched},on:{remove:t.removePost}})],1)])},F=[],H=s(7674),G=function(){var t=this,e=t._self._c;return e("div",{staticClass:"float-left w-1/4"},[e("div",{staticClass:"sidebar fixed top-0 bottom-0 lg:left-0 p-2 w-1/6 overflow-y-auto text-left bg-gray-900"},[e("div",{staticClass:"text-gray-100 text-xl"},[t._m(0),e("div",{staticClass:"pb-[20%]"},[e(H.Z,{staticClass:"w-full mb-3",on:{click:t.showDialog}},[t._v("Авторизация")]),e(H.Z,{staticClass:"w-full",on:{click:t.logout}},[t._v("Выход из профиля")])],1),e("p",{staticClass:"text-lg text-gray-300"},[t._v("Переход на страницу с анекдотами")])]),e("div",{staticClass:"p-2 mt-3 flex items-center rounded-md px-4 duration-300 cursor-pointer bg-gray-700 hover:bg-blue-200 text-white"},[t._t("default")],2),e("div",{staticClass:"p-2 mt-3 flex items-center rounded-md px-4 duration-300 cursor-pointer bg-black hover:bg-blue-200 text-white"},[e("button",{on:{click:t.getPosts}},[t._v("Получить посты")])])]),e("my-dialog",{attrs:{show:t.dialogVisible},on:{"update:show":function(e){t.dialogVisible=e}}},[e("auth-page")],1)],1)},J=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"p-2 flex items-center pb-5"},[e("h1",{staticClass:"font-bold text-gray-200 text-2xl"},[t._v("Добрый день, user.username!")])])}],K=s(6154),Q=function(){var t=this,e=t._self._c;return e("div",{staticClass:"overflow-hidden mx-auto pb-10"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[e("h1",{staticClass:"text-2xl font-bold text-black"},[t._v("Авторизация")]),e(B.Z,{attrs:{type:"text",label:"Логин"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),e(B.Z,{attrs:{type:"password",label:"Пароль"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e(H.Z,{attrs:{type:"submit"}},[t._v(" Войти ")])],1)])},X=[],Y={data(){return{username:"",password:"",token:""}},methods:{async login(){const t="https://gisser777.pythonanywhere.com/api-token-auth/";console.log(this.token),K.Z.post(t,{username:this.username,password:this.password}).then((t=>{this.token=t.data.token,this.$store.commit("setToken",this.token)})).catch((t=>{console.error(t)})),this.$emit("close-dialog")}}},tt=Y,et=(0,c.Z)(tt,Q,X,!1,null,"a99d5514",null),st=et.exports,ot={components:{MyButton:x,AuthPage:st,MyDialog:T},data(){return{dialogVisible:!1}},methods:{handleCloseDialog(){this.dialogVisible=!1},getPosts:function(){const t="https://gisser777.pythonanywhere.com/api/ChefList/";K.Z.get(t,{headers:{Authorization:`Token ${this.$store.state.token}`}}).then((t=>{const e=t.data;this.$store.commit("setPosts",e),console.log(e)})).catch((t=>{console.error(t)}))},showDialog:function(){this.dialogVisible=!0},logout(){this.$store.commit("clearToken"),window.location.reload()}}},it=ot,at=(0,c.Z)(it,G,J,!1,null,"5f524ecc",null),nt=at.exports,rt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-full"},[e("h1",{staticClass:"text-3xl text-gray-800 text-center"},[t._v("Список постов")]),e("div",{staticClass:"flex justify-center items-center"},[e("div",[e("table",{staticClass:"w-full list"},[t._m(0),e("transition-group",{attrs:{name:"list",tag:"tbody"}},t._l(t.posts,(function(s){return e("tr",{key:s.id},[e("td",{staticClass:"border px-4 py-2"},[t._v(t._s(s.name))]),e("td",{staticClass:"border px-4 py-2"},[t._v(t._s(s.specialty))]),e("td",{staticClass:"border px-4 py-2"},[t._v(t._s(s.work_experience))]),e("td",{staticClass:"border px-4 py-2 flex justify-center"},[e("div",{staticClass:"pr-5"},[e(H.Z,{staticClass:"m-2",on:{click:function(e){return t.$emit("remove",s)}}},[t._v("Удалить")]),e("router-link",{attrs:{to:`/CRUD/${s.id}/edit`}},[e(H.Z,[t._v(" Изменить ")])],1)],1)])])})),0)],1)])])])},lt=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{staticClass:"px-4 py-2 font-light"},[t._v("Имя шефа")]),e("th",{staticClass:"px-4 py-2 font-light"},[t._v("Специальность")]),e("th",{staticClass:"px-4 py-2 font-light"},[t._v("Опыт работы")]),e("th",{staticClass:"px-4 py-2 font-light"},[t._v("Действия")])])])}],ct={components:{MyButton:x},props:{posts:{type:Array,required:!0}}},ut=ct,pt=(0,c.Z)(ut,rt,lt,!1,null,"3c0fe42a",null),dt=pt.exports,ht=function(){var t=this,e=t._self._c;return e("div",{staticClass:"overflow-hidden mx-auto pb-10"},[e("div",{staticClass:"float-left w-1/2"},[e("form",{on:{submit:function(t){t.preventDefault()}}},[e("h1",{staticClass:"text-4xl font-bold"},[t._v("Создание поста")]),e(B.Z,{attrs:{type:"text",label:"Ваше имя"},model:{value:t.post.name,callback:function(e){t.$set(t.post,"name",e)},expression:"post.name"}}),e(B.Z,{attrs:{type:"text",label:"Ваша специальность"},model:{value:t.post.specialty,callback:function(e){t.$set(t.post,"specialty",e)},expression:"post.specialty"}}),e(B.Z,{attrs:{type:"text",label:"Ваш стаж"},model:{value:t.post.work_experience,callback:function(e){t.$set(t.post,"work_experience",e)},expression:"post.work_experience"}}),e(H.Z,{staticStyle:{"align-self":"flex-end"},on:{click:t.createPost}},[t._v(" Создать ")])],1)]),t._m(0)])},ft=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"float-right w-1/2 p-10"},[e("p",{staticClass:"text-gray-700 font-light"},[t._v(" Для создания новой статьи укажите авторство и опишите ваше блюдо. "),e("br"),e("br"),e("b",[t._v("(Пока в разработке)")])])])}],mt={data(){return{post:{name:"",specialty:"",work_experience:null}}},methods:{createPost(){this.post.id=Date.now(),this.$emit("create",this.post),this.post={name:"",specialty:"",work_experience:null}}}},vt=mt,xt=(0,c.Z)(vt,ht,ft,!1,null,"5b098088",null),gt=xt.exports,yt={components:{PostList:dt,Header:nt,postForm:gt},data(){return{dialogVisible:!1,selectedSort:"",sortOptions:[{value:"name",name:"По имени"},{value:"work_experience",name:"По опыту работе"}],searchText:""}},methods:{createPost(t){const e="https://gisser777.pythonanywhere.com/api/ChefList/";K.Z.post(e,t,{headers:{Authorization:`Token ${this.$store.state.token}`}}).then((t=>{const e=t.data;this.$store.commit("addPost",e)})).catch((t=>{console.error(t)}))},removePost(t){const e=`https://gisser777.pythonanywhere.com/api/ChefList/${t.id}/`;K.Z.delete(e,{headers:{Authorization:`Token ${this.$store.state.token}`}}).then((e=>{this.$store.commit("removePost",t)})).catch((t=>{console.error(t)}))},showDialog:function(){this.dialogVisible=!0}},computed:{getPosts(){return this.$store.state.posts},sortedPosts(){return"work_experience"===this.selectedSort?[...this.getPosts].sort(((t,e)=>t.work_experience-e.work_experience)):[...this.getPosts].sort(((t,e)=>t[this.selectedSort]?.localeCompare(e[this.selectedSort])))},sortedAndSearched(){return this.sortedPosts.filter((t=>t.name.toLowerCase().includes(this.searchText.toLowerCase())))}}},bt=yt,_t=(0,c.Z)(bt,q,F,!1,null,null,null),wt=_t.exports,kt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex justify-center items-center h-screen p-10"},[e("div",{staticClass:"max-w-md px-4 py-8 bg-white shadow-2xl rounded-lg border border-gray-300"},[e("h1",{staticClass:"text-3xl font-bold mb-4"},[t._v("Изменить пост")]),e("p",{staticClass:"text-gray-600"},[t._v("Все очень просто. В поле, которое нужно изменить, введите новое значение")]),e("form",{staticClass:"pt-10",on:{submit:function(e){return e.preventDefault(),t.saveChanges.apply(null,arguments)}}},[e("label",{attrs:{for:"name"}},[t._v("Имя:")]),e(B.Z,{attrs:{id:"name",type:"text"},model:{value:t.updatedName,callback:function(e){t.updatedName=e},expression:"updatedName"}}),e("br"),e("label",{attrs:{for:"specialty"}},[t._v("Специальность:")]),e(B.Z,{attrs:{id:"specialty",type:"text"},model:{value:t.updatedSpecialty,callback:function(e){t.updatedSpecialty=e},expression:"updatedSpecialty"}}),e("br"),e("label",{attrs:{for:"workExperience"}},[t._v("Опыт работы:")]),e(B.Z,{attrs:{id:"workExperience",type:"text"},model:{value:t.updatedWorkExperience,callback:function(e){t.updatedWorkExperience=e},expression:"updatedWorkExperience"}}),e("br"),e("div",{staticClass:"flex justify-center items-center"},[e("button",{staticClass:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mr-2",attrs:{type:"submit"}},[t._v(" Сохранить ")]),e("router-link",{attrs:{to:"/CRUD"}},[e(H.Z,[t._v("Вернуться назад")])],1)],1)],1)])])},Ct=[],Pt={data(){return{post:null,updatedName:"",updatedSpecialty:"",updatedWorkExperience:""}},mounted(){this.fetchPost()},methods:{fetchPost(){const t=this.$route.params.id,e=`https://gisser777.pythonanywhere.com/api/ChefList/${t}`;console.log(e),K.Z.get(e,{headers:{Authorization:`Token ${this.$store.state.token}`}}).then((t=>{this.post=t.data,this.updatedName=this.post.name,this.updatedSpecialty=this.post.specialty,this.updatedWorkExperience=this.post.work_experience})).catch((t=>{console.error(t)}))},async saveChanges(){try{this.post.name=this.updatedName,this.post.specialty=this.updatedSpecialty,this.post.work_experience=this.updatedWorkExperience;const t=this.$route.params.id,e=`https://gisser777.pythonanywhere.com/api/ChefList/${t}/`;console.log(this.post),await K.Z.put(e,this.post,{headers:{Authorization:`Token ${this.$store.state.token}`}})}catch(t){console.error(t)}}}},Zt=Pt,$t=(0,c.Z)(Zt,kt,Ct,!1,null,"1fee830d",null),St=$t.exports;o.ZP.use(E.ZP);const Tt=[{path:"/",component:U},{path:"/CRUD",component:wt},{path:"/CRUD/:id/edit",component:St}];var Dt=new E.ZP({mode:"history",routes:Tt}),Lt=s(8864);o.ZP.use(Lt.Z);var Ot=new Lt.Z({}),Rt=(s(7658),s(629));o.ZP.use(Rt.ZP);const jt=new Rt.ZP.Store({state:{token:null,posts:[]},mutations:{setToken(t,e){t.token=e,localStorage.setItem("token",e)},clearToken(t){t.token=null,localStorage.removeItem("token")},setPosts(t,e){t.posts=e},addPost(t,e){t.posts.push(e)},removePost(t,e){t.posts=t.posts.filter((t=>t.id!==e.id))}}});var At=jt;o.ZP.config.productionTip=!1,V.forEach((t=>o.ZP.component(t.name,t))),new o.ZP({store:At,router:Dt,vuetify:Ot,render:t=>t(p)}).$mount("#app")}},e={};function s(o){var i=e[o];if(void 0!==i)return i.exports;var a=e[o]={exports:{}};return t[o].call(a.exports,a,a.exports,s),a.exports}s.m=t,function(){var t=[];s.O=function(e,o,i,a){if(!o){var n=1/0;for(u=0;u<t.length;u++){o=t[u][0],i=t[u][1],a=t[u][2];for(var r=!0,l=0;l<o.length;l++)(!1&a||n>=a)&&Object.keys(s.O).every((function(t){return s.O[t](o[l])}))?o.splice(l--,1):(r=!1,a<n&&(n=a));if(r){t.splice(u--,1);var c=i();void 0!==c&&(e=c)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[o,i,a]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var o in e)s.o(e,o)&&!s.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,a,n=o[0],r=o[1],l=o[2],c=0;if(n.some((function(e){return 0!==t[e]}))){for(i in r)s.o(r,i)&&(s.m[i]=r[i]);if(l)var u=l(s)}for(e&&e(o);c<n.length;c++)a=n[c],s.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return s.O(u)},o=self["webpackChunkfrontend2"]=self["webpackChunkfrontend2"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=s.O(void 0,[998],(function(){return s(1742)}));o=s.O(o)})();
//# sourceMappingURL=app.475ad26a.js.map